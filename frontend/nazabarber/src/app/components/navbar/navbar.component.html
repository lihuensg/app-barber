<nav class="navbar">
  <div class="navbar-left">
    <div class="logo" (click)="irAInicio()">NazaBarber</div>
    <button class="menu-toggle" (click)="toggleMenu()">
      <i class="fas fa-bars"></i>
    </button>
  </div>

  <ul class="nav-links" [class.open]="menuAbierto">
    <!-- Login -->
    <li *ngIf="!estaLogueado">
      <a (click)="irALogin()">
        <i class="fas fa-sign-in-alt"></i> Iniciar sesión
      </a>
    </li>

    <!-- Red Social -->
    <li *ngIf="estaLogueado">
      <a [routerLink]="['/red-social']" (click)="cerrarMenu()">
        <i class="fas fa-users"></i> Red Social
      </a>
    </li>

    <!-- Panel Admin -->
    <li *ngIf="estaLogueado && esAdmin">
      <a [routerLink]="['/admin']" (click)="cerrarMenu()">
        <i class="fas fa-tools"></i> Panel Admin
      </a>
    </li>

    <!-- Turnos usuario -->
    <li *ngIf="estaLogueado && !esAdmin">
      <a [routerLink]="['/usuario']" (click)="cerrarMenu()">
        <i class="fas fa-calendar-alt"></i> Mis turnos
      </a>
    </li>

    <!-- Perfil común a ambos -->
    <li *ngIf="estaLogueado">
      <a [routerLink]="[esAdmin ? '/admin/perfil' : '/usuario/perfil']" (click)="cerrarMenu()">
        <i class="fas fa-user-circle"></i> Perfil
      </a>
    </li>

    <!-- Logout: abre modal de confirmación -->
    <li *ngIf="estaLogueado">
      <a (click)="abrirModalLogout(); cerrarMenu()">
        <i class="fas fa-sign-out-alt"></i> Cerrar sesión
      </a>
    </li>
  </ul>
</nav>

<!-- Modal de confirmación para cerrar sesión -->
<div *ngIf="mostrarModalLogout" class="modal-overlay" (click)="cancelarLogout()">
  <div class="modal-contenido" (click)="$event.stopPropagation()">
    <h3>¿Estás seguro que querés cerrar sesión?</h3>

    <div class="modal-botones">
      <button class="btn btn-danger" (click)="confirmarLogout()">Sí, cerrar sesión</button>
      <button class="btn btn-cancelar" (click)="cancelarLogout()">Cancelar</button>
    </div>
  </div>
</div>
